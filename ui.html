<h1 style="font-family:Roboto;">AA Checklist</h1>
<body>
  <!-- Mini css/style sheet -->
  <style> 
    body{
      background-color: rgb(255, 255, 255);
    }

    .horzLayout{
      max-width: 100%;
      margin: 0 auto;
      display: grid;
      /* width: 100%; */
      grid-template-columns: repeat(3, 1fr);
      gap: 0px;
      grid-auto-rows: minmax(auto, auto);
    }

    #progressBar{
      /* grid-column: 1/3;
      grid-row: 1/2; */
      grid-column: 1;
      grid-row: 1;
      vertical-align:auto;
      padding-left: 8px;
      padding-right: 0px;
    }

    #incompProg {
      display:inline-table;
      width: 80%;
      background-color: #d9d9d9;
    }

    #completedProg {
      width: 0%;
      height: 30px;
      background-color: #00e417;
    }
    
    button{
      margin-left: 0px;
    }

    #finished{
      display: inline-flex;
      grid-column: 2;
      grid-row: 1;

      flex-direction: column;
      align-items: flex-start;
      gap: 10px;
      color: white;

      /* Buttons Shadows/Default */
      box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.24), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);
      font-size: 14px;
      font-family: Roboto;
      font-weight: 500;
      line-height: 24px;
      word-wrap: break-word
    }

    .buttonHold {
      text-align: left;
    }

    li{
      list-style: none;
      width: 100%;
      padding-bottom: 15px;
      padding-left: 0px;
      stroke: #d9d9d9;
    }

    li label{
      padding: 16px;
    }

    nav ul{
      position:relative;
      height:250px; 
      width: 75%;
      align-items: center;
      border:1px solid black;
      overflow-y:auto;
      padding: 16px;
    }


    ul{
      stroke: black;
    }
  </style>
  <nav>
    <ul id="fruits">
    <li><input id="chkMango" type="checkbox" value="1" /><label for="chkMango">Mango</label></li>
    <li><input id="chkApple" type="checkbox" value="2" /><label for="chkApple">Apple</label>  </li>
    <li><input id="chkBanana" type="checkbox" value="3" /><label for="chkBanana">Banana</label></li>
    <li><input id="chkGuava" type="checkbox" value="4" /><label for="chkGuava">Guava</label></li>
    <li><input id="chkOrange" type="checkbox" value="5" /><label for="chkOrange">Orange</label></li>
    <li><input id="chkMango2" type="checkbox" value="6" /><label for="chkMango">Mango2</label></li>
    <li><input id="chkApple2" type="checkbox" value="7" /><label for="chkApple">Apple2</label>  </li>
    <li><input id="chkBanana2" type="checkbox" value="8" /><label for="chkBanana">Banana2</label></li>
    <li><input id="chkGuava2" type="checkbox" value="9" /><label for="chkGuava">Guava2</label></li>
    <li><input id="chkMango3" type="checkbox" value="10" /><label for="chkMango">Mango</label></li>
    <li><input id="chkMango3" type="checkbox" value="11" /><label for="chkMango">Mango</label></li>
    <li><input id="chkApple3" type="checkbox" value="12" /><label for="chkApple">Apple</label>  </li>
    <li><input id="chkBanana3" type="checkbox" value="13" /><label for="chkBanana">Banana</label></li>
    <li><input id="chkGuava3" type="checkbox" value="14" /><label for="chkGuava">Guava</label></li>
    <li><input id="chkOrange3" type="checkbox" value="15" /><label for="chkOrange">Orange</label></li>
    <li><input id="chkMango4" type="checkbox" value="16" /><label for="chkMango">Mango2</label></li>
    <li><input id="chkApple4" type="checkbox" value="17" /><label for="chkApple">Apple2</label>  </li>
    <li><input id="chkBanana4" type="checkbox" value="18" /><label for="chkBanana">Banana2</label></li>
    <li><input id="chkGuava4" type="checkbox" value="19" /><label for="chkGuava">Guava2</label></li>
    </ul>
</nav>

<div id="horzLayout">
  <div id="progressBar">
    <lable style="color:a8a8a8">Percent Completed</lable>
    <div id="incompProg">
      <div id="completedProg"><p id="barPer" style="color:black; text-align:center; padding-top: 5px">0%</p></div>
    </div>
  
  </div>
  <br>
  <div id="Finish"; style="width: 70px; height: 32px; box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.12); flex-direction: column; justify-content: flex-start; align-items: flex-start; gap: 10px; display: inline-flex">
    <div style="padding-left: 16px; padding-right: 16px; padding-top: 4px; padding-bottom: 4px; background: #0064A0; border-radius: 3px; justify-content: center; align-items: center; display: inline-flex">
        <div style="justify-content: center; align-items: center; gap: 10px; display: flex">
            <div style="color: white; font-size: 14px; font-family: Roboto; font-weight: 500; line-height: 24px; word-wrap: break-word">Finish</div>
        </div>
    </div>
  </div>
</div>

</body>
<script>


  function update() {

      //This part does the check list
        var checked = 0;
        var completedProg = document.getElementById("completedProg");
        //Reference the Form.
        var fruits = document.getElementById("fruits");
      
        //Reference all the CheckBoxes in Table.
        boxes = fruits.querySelectorAll("input[type='checkbox']:checked");
        totalBoxes = (fruits.querySelectorAll("input[type='checkbox']")).length;
        checked = boxes.length
      
      var percent = ((checked / totalBoxes) * 100).toFixed(1) + "%";
      document.getElementById("barPer")
          .innerHTML =
          percent;
      completedProg.style.width = percent
      return true;
      }
      
      checks = document.querySelectorAll("input[type='checkbox']");
      checks.forEach(function(box) {
        box.addEventListener("change", function(e) {
            update()
        });


      //This part should do the cancel/finish
      document.getElementById('Finish').onclick = () => {
        parent.postMessage({ pluginMessage: { type: 'finish' } }, '*')
      }

      });
  
  
  </script>
  